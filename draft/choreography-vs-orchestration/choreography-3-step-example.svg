<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="328px" preserveAspectRatio="none" style="width:509px;height:328px;background:#FFFFFF;" version="1.1" viewBox="0 0 509 328" width="509px" zoomAndPan="magnify"><defs/><g><!--MD5=[7dbc5279649e49b795d9e72d9f808102]
entity userAction--><g id="elem_userAction"><rect fill="#F1F1F1" height="52.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="162.5" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="172.5" y="29.9951">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="172.5" y="46.292">created order</text></g><!--MD5=[10a47645bc89e16cb630070fd7a07ea7]
entity exchanger--><g id="elem_exchanger"><path d="M181.5,137 L261.5,137 C266.5,137 266.5,150.1484 266.5,150.1484 C266.5,150.1484 266.5,163.2969 261.5,163.2969 L181.5,163.2969 C176.5,163.2969 176.5,150.1484 176.5,150.1484 C176.5,150.1484 176.5,137 181.5,137 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M261.5,137 C256.5,137 256.5,150.1484 256.5,150.1484 C256.5,163.2969 261.5,163.2969 261.5,163.2969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="181.5" y="154.9951">Event Bus</text></g><!--MD5=[a0aa8d3cc17c7038eec1e793abffb023]
entity step1--><g id="elem_step1"><rect fill="#F1F1F1" height="52.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="7" y="270"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="17" y="292.9951">Step 1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="17" y="309.292">charge customer</text></g><!--MD5=[95f5ba265e8f0f45a639e66959962dae]
entity step2--><g id="elem_step2"><rect fill="#F1F1F1" height="52.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="197" y="270"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="207" y="292.9951">Step 2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="207" y="309.292">schedule order</text></g><!--MD5=[0ef140ce3fd4c07702e8f80d12bdb9e3]
entity step3--><g id="elem_step3"><rect fill="#F1F1F1" height="52.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="405.5" y="270"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="415.5" y="292.9951">Step 3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="415.5" y="309.292">send email</text></g><!--MD5=[aad6162d43ba457f5b46fcb12a4bed41]
link userAction to exchanger--><g id="link_userAction_exchanger"><path d="M221.5,60.2 C221.5,82.01 221.5,112.72 221.5,131.72 " fill="none" id="userAction-to-exchanger" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="221.5,136.75,225.5,127.75,221.5,131.75,217.5,127.75,221.5,136.75" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="222.5" y="103.0669">Order created</text></g><!--MD5=[9733deae9ffc345b2c7713c236739cb5]
link exchanger to step1--><g id="link_exchanger_step1"><path d="M176.1,153.99 C122.95,158.55 39.72,169.35 20.5,193 C7.33,209.21 12.38,220.75 20.5,240 C24.61,249.73 31.35,258.6 38.78,266.26 " fill="none" id="exchanger-to-step1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="42.48,269.92,38.9073,260.742,38.9302,266.3988,33.2734,266.4217,42.48,269.92" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="21.5" y="206.0669"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="21.5" y="221.1997">On orde</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="21.5" y="236.3325">created</text></g><!--MD5=[23c8816b68a114af36016861e290db78]
reverse link exchanger to step1--><g id="link_exchanger_step1"><path d="M184.58,165.36 C170.04,172.23 153.9,181.5 141.5,193 C117.97,214.83 99.71,247.18 88.82,269.68 " fill="none" id="exchanger-backto-step1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="189.44,163.13,179.5922,163.2756,184.9015,165.228,182.949,170.5372,189.44,163.13" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="142.5" y="206.0669"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="142.5" y="221.1997">Customer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="142.5" y="236.3325">charged</text></g><!--MD5=[4935fac1d639ac363aaea9184ef2b265]
link exchanger to step2--><g id="link_exchanger_step2"><path d="M218.46,163.19 C214.67,180.71 209.69,213.77 218.5,240 C221.55,249.09 226.74,257.87 232.46,265.66 " fill="none" id="exchanger-to-step2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="235.67,269.89,233.4098,260.304,232.6449,265.9089,227.04,265.1441,235.67,269.89" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="219.5" y="206.0669"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="219.5" y="221.1997">On customer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="219.5" y="236.3325">charged</text></g><!--MD5=[db896232100d10305417d2caef0d1107]
reverse link exchanger to step2--><g id="link_exchanger_step2"><path d="M271.54,164.37 C285.6,170.68 299.28,179.83 307.5,193 C318.56,210.72 314.69,220.39 307.5,240 C303.5,250.91 296.31,261.14 288.73,269.78 " fill="none" id="exchanger-backto-step2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="266.77,162.34,273.4936,169.5367,271.3731,164.2924,276.6174,162.1718,266.77,162.34" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="314.5" y="206.0669"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="314.5" y="221.1997">Order</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="314.5" y="236.3325">scheduled</text></g><!--MD5=[a2d8303380a2902701bf265278c3bb42]
link exchanger to step3--><g id="link_exchanger_step3"><path d="M266.71,153.21 C302.91,156.99 353.42,166.95 389.5,193 C414.38,210.96 431.99,241.66 442.55,264.79 " fill="none" id="exchanger-to-step3" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="444.69,269.61,444.6957,259.7611,442.662,265.0398,437.3833,263.006,444.69,269.61" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="430.5" y="206.0669"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="430.5" y="221.1997">On order</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="430.5" y="236.3325">scheduled</text></g><!--MD5=[0d16a6d37d82234256cbad6735adbc57]
@startuml

rectangle "User\ncreated order" as userAction

queue "Event Bus" as exchanger

rectangle "Step 1\ncharge customer" as step1
rectangle "Step 2\nschedule order" as step2
rectangle "Step 3\nsend email"  as step3

exchanger <-up- userAction : Order created

exchanger -down-> step1 : \lOn orde\ncreated
exchanger <-down- step1 : \lCustomer\ncharged

exchanger -down-> step2 : \lOn customer\ncharged
exchanger <-down- step2 : \lOrder\nscheduled

exchanger -down-> step3 : \lOn order\nscheduled

@enduml

PlantUML version 1.2022.5(Sat Apr 30 12:55:52 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>